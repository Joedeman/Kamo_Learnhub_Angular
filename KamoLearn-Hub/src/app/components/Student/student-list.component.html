<div class="manage-students-container">
  <div class="header-section">
    <div class="header-content">
      <h1 class="page-title">Manage Students</h1>
      <p class="page-subtitle">View and manage student accounts</p>
    </div>
  </div>

  <div class="toolbar">
    <div class="search-wrapper">
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input 
        type="text" 
        class="search-input" 
        placeholder="Search students..."
        [(ngModel)]="searchTerm"
        (input)="onSearchChange()"
      />
    </div>
    
      <button class="add-student-btn" (click)="addStudent()">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <line x1="19" y1="8" x2="19" y2="14"></line>
          <line x1="22" y1="11" x2="16" y2="11"></line>
        </svg>
        Add Student
      </button>
  </div>

  <div class="table-container">
    <table class="students-table">
      <thead>
        <tr>
          <th>Student Name</th>
          <th>Email</th>
          <th>Grade</th>
          <th>Curriculum</th>
          <th>Assigned Videos</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of paginatedStudents" class="table-row">
          <td class="student-name">{{ student.fullName }}</td>
          <td class="student-email">{{ student.email }}</td>
          <td class="student-id">{{ student.grade }}</td>
          <td class="curriculum">{{ student.curriculum }}</td>
          <td class="assigned-videos">
            <span class="video-badge">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
              </svg>
              {{ getAssignedVideosCount(student) }}
            </span>
          </td>
          <td>
            <span class="status-badge" [class.status-active]="student.isActive" [class.status-inactive]="!student.isActive">
              {{ student.isActive ? 'Active' : 'Inactive' }}
            </span>
          </td>
          <td>
            <div class="actions-menu">
              <button class="menu-btn" (click)="deleteStudent(student.student_ID)">
                <svg xmlns="http://www.w3.org/2000/svg" width="4" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <circle cx="12" cy="5" r="2"></circle>
                  <circle cx="12" cy="12" r="2"></circle>
                  <circle cx="12" cy="19" r="2"></circle>
                </svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="pagination-container">
    <div class="pagination-info">
      Showing {{ showingStart }}-{{ showingEnd }} of {{ filteredStudents.length }} students
    </div>
    
    <div class="pagination-controls">
      <button 
        class="pagination-btn" 
        [disabled]="currentPage === 1"
        (click)="previousPage()"
      >
        Previous
      </button>
      <button 
        class="pagination-btn" 
        [disabled]="currentPage >= totalPages"
        (click)="nextPage()"
      >
        Next
      </button>
    </div>
  </div>
</div>